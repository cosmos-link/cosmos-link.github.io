// 多语言配置
const languages = {
    'zh-CN': {
        // 首页
        'country-label': '国家:',
        'china': '中国',
        'usa': '美国', 
        'japan': '日本',
        'platform-title': '宇酷通数字生命体平台',
        'enterprise-user': '企业',
        'government-user': '机构',
        'individual-user': '个人',
        'community-user': '社区',
        'did-account': 'DID账号:',
        'did-placeholder': '请输入DID账号',
        'login-btn': '登录',
        'create-did': '创建DID身份',
        'recover-did': '恢复DID账户',
        
        // 应用中心
        'app-center': '应用中心',
        'refresh': '刷新',
        'help': '帮助',
        'my-profile': '我的',
        'logout': '退出',
        'company-name': '企业名称：',
        'smart-manufacturing': '智能制造',
        'digital-finance': '数字金融',
        'energy-power': '能源电力',
        'healthcare': '医疗健康',
        'data-collector': '数据采集器',
        'blockchain-data': '上链数据',
        'computing-power': '算力中心',
        'web4-live': 'Web4.0直播',
        'digital-twin': '数字孪生',
        'supply-chain': '供应链管理',
        'system-settings': '系统设置',
        'coming-soon': '即将推出',
        
        // 数据采集器
        'factory-name': '工厂名称：',
        'total-devices': '总设备数:',
        'online-devices': '在线设备数:',
        'normal-rate': '设备正常率:',
        'data-integrity': '数据完整率:',
        'device-name': '设备名称',
        'device-name-placeholder': '请输入设备名称',
        'search': '搜索',
        'cancel': '取消',
        'export-data': '导出数据',
        'settings': '设置',
        'back': '返回',
        'realtime-monitor': '实时运行',
        'temp-monitor': '温度监控',
        'pressure-detect': '压力检测',
        'speed-monitor': '转速监控',
        'temp-trend': '温度变化趋势',
        'current-temp': '当前温度:',
        'temp-range': '范围:',
        'device-mgmt': '设备管理',
        'alert-center': '告警中心',
        'sensor-devices': '传感设备',
        'production-devices': '生产设备',
        'detection-devices': '检测设备',
        'control-devices': '控制设备',
        'auxiliary-devices': '辅助设备',
        
        // 区块链数据
        'verify-data': '验证数据',
        'download-cert': '下载证书',
        'factory-info': '工厂信息（工厂名称·区域位置·设备总数量）',
        
        // 算力中心
        'earnings-view': '收益查看',
        'computing-settings': '算力设置',
        'computing-subtitle': '- 让您的设备实时产生收益',
        'high-compute': '高算力设备',
        'gpu-cards': 'GPU计算卡',
        'storage-devices': '存储设备',
        'network-devices': '网络设备'
    },
    
    'en-US': {
        // Homepage
        'country-label': 'Country:',
        'china': 'China',
        'usa': 'United States',
        'japan': 'Japan',
        'platform-title': 'YKT Digital Life Platform',
        'enterprise-user': 'Enterprise',
        'government-user': 'Institution',
        'individual-user': 'Individual',
        'community-user': 'Partner',
        'did-account': 'DID Account:',
        'did-placeholder': 'Enter DID Account',
        'login-btn': 'Login',
        'create-did': 'Create DID',
        'recover-did': 'Recover DID',
        
        // App Center
        'app-center': 'App Center',
        'refresh': 'Refresh',
        'help': 'Help',
        'my-profile': 'Profile',
        'logout': 'Logout',
        'company-name': 'Company Name:',
        'smart-manufacturing': 'Smart Manufacturing',
        'digital-finance': 'Digital Finance',
        'energy-power': 'Energy & Power',
        'healthcare': 'Healthcare',
        'data-collector': 'Data Collector',
        'blockchain-data': 'Blockchain Data',
        'computing-power': 'Computing Power',
        'web4-live': 'Web4.0 Live',
        'digital-twin': 'Digital Twin',
        'supply-chain': 'Supply Chain',
        'system-settings': 'Settings',
        'coming-soon': 'Coming Soon',
        
        // Data Collector
        'factory-name': 'Factory Name:',
        'total-devices': 'Total Devices:',
        'online-devices': 'Online Devices:',
        'normal-rate': 'Normal Rate:',
        'data-integrity': 'Data Integrity:',
        'device-name': 'Device Name',
        'device-name-placeholder': 'Enter Device Name',
        'search': 'Search',
        'cancel': 'Cancel',
        'export-data': 'Export Data',
        'settings': 'Settings',
        'back': 'Back',
        'realtime-monitor': 'Real-time Monitor',
        'temp-monitor': 'Temperature',
        'pressure-detect': 'Pressure',
        'speed-monitor': 'Speed',
        'temp-trend': 'Temperature Trend',
        'current-temp': 'Current Temp:',
        'temp-range': 'Range:',
        'device-mgmt': 'Device Management',
        'alert-center': 'Alert Center',
        'sensor-devices': 'Sensors',
        'production-devices': 'Production',
        'detection-devices': 'Detection',
        'control-devices': 'Control',
        'auxiliary-devices': 'Auxiliary',
        
        // Blockchain Data
        'verify-data': 'Verify Data',
        'download-cert': 'Download Certificate',
        'factory-info': 'Factory Info (Name·Location·Total Devices)',
        
        // Computing Power
        'earnings-view': 'View Earnings',
        'computing-settings': 'Settings',
        'computing-subtitle': '- Real-time Device Revenue',
        'high-compute': 'High Performance',
        'gpu-cards': 'GPU Cards',
        'storage-devices': 'Storage',
        'network-devices': 'Network'
    },
    
    'ja-JP': {
        // ホームページ
        'country-label': '国:',
        'china': '中国',
        'usa': 'アメリカ',
        'japan': '日本',
        'platform-title': 'YKTデジタルライフプラットフォーム',
        'enterprise-user': '企業',
        'government-user': '機関',
        'individual-user': '個人',
        'community-user': 'コミュニティ',
        'did-account': 'DIDアカウント:',
        'did-placeholder': 'DIDアカウントを入力',
        'login-btn': 'ログイン',
        'create-did': 'DID作成',
        'recover-did': 'DID復旧',
        
        // アプリセンター
        'app-center': 'アプリセンター',
        'refresh': '更新',
        'help': 'ヘルプ',
        'my-profile': 'マイページ',
        'logout': 'ログアウト',
        'company-name': '会社名：',
        'smart-manufacturing': 'スマート製造',
        'digital-finance': 'デジタル金融',
        'energy-power': 'エネルギー電力',
        'healthcare': '医療健康',
        'data-collector': 'データ収集',
        'blockchain-data': 'ブロックチェーン',
        'computing-power': '計算力',
        'web4-live': 'Web4.0ライブ',
        'digital-twin': 'デジタルツイン',
        'supply-chain': 'サプライチェーン',
        'system-settings': 'システム設定',
        'coming-soon': '近日公開',
        
        // データ収集
        'factory-name': '工場名：',
        'total-devices': '総デバイス数:',
        'online-devices': 'オンラインデバイス:',
        'normal-rate': '正常率:',
        'data-integrity': 'データ整合性:',
        'device-name': 'デバイス名',
        'device-name-placeholder': 'デバイス名を入力',
        'search': '検索',
        'cancel': 'キャンセル',
        'export-data': 'データエクスポート',
        'settings': '設定',
        'back': '戻る',
        'realtime-monitor': 'リアルタイム監視',
        'temp-monitor': '温度監視',
        'pressure-detect': '圧力検出',
        'speed-monitor': '回転数監視',
        'temp-trend': '温度変化傾向',
        'current-temp': '現在温度:',
        'temp-range': '範囲:',
        'device-mgmt': 'デバイス管理',
        'alert-center': 'アラートセンター',
        'sensor-devices': 'センサー',
        'production-devices': '生産機器',
        'detection-devices': '検出機器',
        'control-devices': '制御機器',
        'auxiliary-devices': '補助機器',
        
        // ブロックチェーン
        'verify-data': 'データ検証',
        'download-cert': '証明書ダウンロード',
        'factory-info': '工場情報（工場名·場所·総デバイス数）',
        
        // 計算力
        'earnings-view': '収益確認',
        'computing-settings': '設定',
        'computing-subtitle': '- デバイスでリアルタイム収益',
        'high-compute': '高性能機器',
        'gpu-cards': 'GPUカード',
        'storage-devices': 'ストレージ',
        'network-devices': 'ネットワーク'
    }
};

// 当前语言
let currentLanguage = 'zh-CN';

// 多语言初始化
function initLanguage() {
    // 从localStorage获取保存的语言设置
    const savedLang = localStorage.getItem('selectedLanguage');
    if (savedLang && languages[savedLang]) {
        currentLanguage = savedLang;
    }
    
    // 更新页面文字
    updatePageText();
    
    // 更新国家选择器
    const countrySelect = document.getElementById('country');
    if (countrySelect) {
        countrySelect.value = currentLanguage;
        countrySelect.addEventListener('change', changeLanguage);
    }
}

// 切换语言
function changeLanguage(event) {
    const newLanguage = event.target.value;
    if (languages[newLanguage]) {
        currentLanguage = newLanguage;
        localStorage.setItem('selectedLanguage', newLanguage);
        updatePageText();
    }
}

// 更新页面文字
function updatePageText() {
    const langData = languages[currentLanguage];
    
    // 为body添加语言类
    document.body.className = document.body.className.replace(/lang-\w+-\w+/g, '');
    document.body.classList.add('lang-' + currentLanguage);
    
    // 更新所有带有data-i18n属性的元素
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (langData[key]) {
            element.textContent = langData[key];
        }
    });
    
    // 更新placeholder文字
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (langData[key]) {
            element.placeholder = langData[key];
        }
    });
    
    // 更新文档title
    if (document.title.includes('登录')) {
        document.title = langData['platform-title'] + ' - ' + langData['login-btn'];
    } else if (document.title.includes('应用中心')) {
        document.title = langData['platform-title'] + ' - ' + langData['app-center'];
    } else if (document.title.includes('数据采集器')) {
        document.title = langData['data-collector'] + ' - ' + langData['platform-title'];
    } else if (document.title.includes('上链数据')) {
        document.title = langData['blockchain-data'] + ' - ' + langData['platform-title'];
    } else if (document.title.includes('算力中心')) {
        document.title = langData['computing-power'] + ' - ' + langData['platform-title'];
    }
}

// 页面加载完成后初始化
document.addEventListener('DOMContentLoaded', initLanguage);